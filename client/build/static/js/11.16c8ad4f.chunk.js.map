{"version":3,"sources":["components/Spinner.js","redux/actions/scheduledWashes.js","pages/scheduledWashes/ScheduledWashesCrud.js"],"names":["Spinner","class","startScheduledWashesReload","dispatch","type","START_SCHEDULED_WASHES_RELOAD","finishedScheduledWashesReload","FINISHED_SCHEDULED_WASHES_RELOAD","readScheduledWashes","queryString","readItemsAsync","url","process","encodeURIComponent","JSON","stringify","query","page","limit","successType","READ_SCHEDULED_WASHES","errorType","SCHEDULED_WASH_ERROR","startReload","finishedReload","headers","localStorage","getItem","readOneScheduledWash","id","readOneItemAsync","READ_ONE_SCHEDULED_WASH","createsScheduledWash","formData","createItemAsync","CREATE_SCHEDULED_WASH","title","updateScheduledWash","updateItemAsync","UPDATE_SCHEDULED_WASH","_id","UserCrud","history","match","useDispatch","scheduledWashesReducer","useSelector","state","useState","errorValidation","name","label","price","note","description","setFormData","onChange","e","preventDefault","target","value","console","log","useEffect","params","then","res","data","catch","err","onUserSubmit","a","push","loading","className","parentClassName","style","backgroundColor","placeholder","onClick","_objI","borderColor","viewBox"],"mappings":"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","file":"static/js/11.16c8ad4f.chunk.js","sourcesContent":["import React from 'react';\r\n\r\nconst Spinner = () => {\r\n  return <div class='loader'></div>;\r\n};\r\n\r\nexport default Spinner;\r\n","import {\r\n  READ_SCHEDULED_WASHES,\r\n  READ_ONE_SCHEDULED_WASH,\r\n  CREATE_SCHEDULED_WASH,\r\n  UPDATE_SCHEDULED_WASH,\r\n  UPDATE_SCHEDULED_WASH_STATUS,\r\n  DELETE_SCHEDULED_WASH,\r\n  SCHEDULED_WASH_ERROR,\r\n  CLEAR_SCHEDULED_WASH,\r\n  START_SCHEDULED_WASHES_RELOAD,\r\n  FINISHED_SCHEDULED_WASHES_RELOAD,\r\n} from '../types/scheduledWashes';\r\n\r\nimport { readItemsAsync } from './equCurd/readItems';\r\nimport { readOneItemAsync } from './equCurd/readOneItem';\r\nimport { createItemAsync } from './equCurd/createItem';\r\nimport { updateItemAsync } from './equCurd/updateItem';\r\nimport { deleteItemAsync } from './equCurd/deleteItem';\r\n\r\nexport const startScheduledWashesReload = () => dispatch => {\r\n  dispatch({ type: START_SCHEDULED_WASHES_RELOAD });\r\n};\r\n\r\nexport const finishedScheduledWashesReload = () => dispatch => {\r\n  dispatch({ type: FINISHED_SCHEDULED_WASHES_RELOAD });\r\n};\r\n\r\nexport const readScheduledWashes = queryString =>\r\n  readItemsAsync({\r\n    url:\r\n      process.env.REACT_APP_BACKEND_URL +\r\n      `/api/scheduled-wash?query=${encodeURIComponent(\r\n        JSON.stringify(queryString.query)\r\n      )}&page=${queryString.page}&limit=${queryString.limit}`,\r\n    successType: READ_SCHEDULED_WASHES,\r\n    errorType: SCHEDULED_WASH_ERROR,\r\n    startReload: startScheduledWashesReload,\r\n    finishedReload: finishedScheduledWashesReload,\r\n    headers: {\r\n      'Content-Type': 'application/json',\r\n      'Access-Control-Allow-Origin': '*',\r\n      'x-access-token': localStorage.getItem('token'),\r\n    },\r\n  });\r\n\r\nexport const readOneScheduledWash = id =>\r\n  readOneItemAsync({\r\n    url: process.env.REACT_APP_BACKEND_URL + `/api/scheduled-wash/`,\r\n    successType: READ_ONE_SCHEDULED_WASH,\r\n    errorType: SCHEDULED_WASH_ERROR,\r\n    startReload: startScheduledWashesReload,\r\n    finishedReload: finishedScheduledWashesReload,\r\n    id,\r\n    headers: {\r\n      'Content-Type': 'application/json',\r\n      'Access-Control-Allow-Origin': '*',\r\n      'x-access-token': localStorage.getItem('token'),\r\n    },\r\n  });\r\n\r\nexport const createsScheduledWash = formData =>\r\n  createItemAsync({\r\n    url: process.env.REACT_APP_BACKEND_URL + '/api/scheduled-wash/',\r\n    successType: CREATE_SCHEDULED_WASH,\r\n    errorType: SCHEDULED_WASH_ERROR,\r\n    startReload: startScheduledWashesReload,\r\n    finishedReload: finishedScheduledWashesReload,\r\n    title: 'ScheduledWashes',\r\n    formData,\r\n    headers: {\r\n      'Content-Type': 'application/json',\r\n      'Access-Control-Allow-Origin': '*',\r\n      'x-access-token': localStorage.getItem('token'),\r\n    },\r\n  });\r\n\r\nexport const updateScheduledWash = formData =>\r\n  updateItemAsync({\r\n    url: process.env.REACT_APP_BACKEND_URL + '/api/scheduled-wash',\r\n    successType: UPDATE_SCHEDULED_WASH,\r\n    errorType: SCHEDULED_WASH_ERROR,\r\n    startReload: startScheduledWashesReload,\r\n    finishedReload: finishedScheduledWashesReload,\r\n    title: 'ScheduledWashes',\r\n    formData,\r\n    id: formData._id,\r\n    headers: {\r\n      'Content-Type': 'application/json',\r\n      'Access-Control-Allow-Origin': '*',\r\n      'x-access-token': localStorage.getItem('token'),\r\n    },\r\n  });\r\n\r\nexport const updateScheduledWashStatus = formData =>\r\n  updateItemAsync({\r\n    url:\r\n      process.env.REACT_APP_BACKEND_URL +\r\n      '/api/scheduled-wash/' +\r\n      formData.status,\r\n    successType: UPDATE_SCHEDULED_WASH_STATUS,\r\n    errorType: SCHEDULED_WASH_ERROR,\r\n    startReload: startScheduledWashesReload,\r\n    finishedReload: finishedScheduledWashesReload,\r\n    title: 'ScheduledWashes',\r\n    formData,\r\n    id: formData._id,\r\n    headers: {\r\n      'Content-Type': 'application/json',\r\n      'Access-Control-Allow-Origin': '*',\r\n      'x-access-token': localStorage.getItem('token'),\r\n    },\r\n  });\r\n\r\nexport const deleteScheduledWash = id =>\r\n  deleteItemAsync({\r\n    url: process.env.REACT_APP_BACKEND_URL + '/api/scheduled-wash/',\r\n    successType: DELETE_SCHEDULED_WASH,\r\n    errorType: SCHEDULED_WASH_ERROR,\r\n    startReload: startScheduledWashesReload,\r\n    finishedReload: finishedScheduledWashesReload,\r\n    title: 'ScheduledWashes',\r\n    id: id,\r\n    headers: {\r\n      'Content-Type': 'application/json',\r\n      'Access-Control-Allow-Origin': '*',\r\n      'x-access-token': localStorage.getItem('token'),\r\n    },\r\n  });\r\n\r\nexport const clearScheduledWash = () => dispatch => {\r\n  dispatch({ type: CLEAR_SCHEDULED_WASH });\r\n};\r\n","import Layout from '../../components/Layout';\r\nimport React, { useState, useEffect } from 'react';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport { Redirect, Route, useHistory, useLocation } from 'react-router-dom';\r\nimport {\r\n  updateScheduledWash,\r\n  readScheduledWashes,\r\n  deleteScheduledWash,\r\n  clearScheduledWash,\r\n  readOneScheduledWash,\r\n  createsScheduledWash,\r\n} from '../../redux/actions/scheduledWashes';\r\n\r\nimport _objO from '../../utils/_objO';\r\nimport _objI from '../../utils/_objI';\r\nimport Spinner from '../../components/Spinner';\r\nexport default function UserCrud({ history, match }) {\r\n  const dispatch = useDispatch();\r\n  const scheduledWashesReducer = useSelector(\r\n    state => state.scheduledWashesReducer\r\n  );\r\n  const [errorValidation, setErrorValidation] = useState({});\r\n  const [formData, setFormData] = useState({\r\n    name: '',\r\n    label: '',\r\n    price: '',\r\n    note: '',\r\n    description: '',\r\n  });\r\n  const onChange = e => {\r\n    e.preventDefault();\r\n    setFormData({ ...formData, [e.target.name]: e.target.value });\r\n  };\r\n  console.log(formData.description);\r\n  useEffect(() => {\r\n    if (match.params.id) {\r\n      dispatch(readOneScheduledWash(match.params.id))\r\n        .then(res => {\r\n          setFormData({ ...formData, ...res.data.data });\r\n          console.log({ res: res.data.data });\r\n        })\r\n        .catch(err => {});\r\n    }\r\n  }, [match.params.id]);\r\n  useEffect(() => {\r\n    dispatch(readScheduledWashes());\r\n  }, []);\r\n\r\n  const onUserSubmit = async e => {\r\n    e.preventDefault();\r\n    if (!match.params.id) {\r\n      dispatch(\r\n        createsScheduledWash({\r\n          name: formData.name,\r\n          label: formData.label,\r\n          price: formData.price,\r\n          note: formData.note,\r\n          description: formData.description,\r\n        })\r\n      ).then(res => history.push(`/admin/scheduledWashes`));\r\n    } else if (match.params.id) {\r\n      dispatch(\r\n        updateScheduledWash({\r\n          _id: match.params.id,\r\n          name: formData.name,\r\n          label: formData.label,\r\n          price: formData.price,\r\n          note: formData.note,\r\n          description: formData.description,\r\n        })\r\n      ).then(res => history.push(`/admin/scheduledWashes`));\r\n    } else {\r\n      console.log('error');\r\n    }\r\n  };\r\n  if (scheduledWashesReducer.loading) {\r\n    return (\r\n      <Layout>\r\n        <div className='flex items-center justify-center h-screen'>\r\n          <Spinner />\r\n        </div>\r\n      </Layout>\r\n    );\r\n  } else {\r\n    return (\r\n      <Layout parentClassName={' '}>\r\n        <div\r\n          style={{ backgroundColor: '#F8F8F8' }}\r\n          className='w-full h-full p-10 transition-all'>\r\n          <div className='flex flex-wrap items-center justify-between w-full transition-all select-none'>\r\n            <div className='flex-grow my-10 text-4xl font-normal text-left text-gray-500 transition-all '>\r\n              ScheduledWashes\r\n              <div className='flex items-center w-full mt-4 text-sm text-left text-gray-500 transition-all'>\r\n                <div className='font-medium transition-all duration-100 transform cursor-pointer hover:text-gray-600 hover:scale-110'>\r\n                  Dashboard\r\n                </div>\r\n                <div className='px-3 font-medium'>{`->`}</div>\r\n                <div className='font-medium transition-all duration-100 transform cursor-pointer hover:text-gray-600 hover:scale-110'>\r\n                  ScheduledWashes\r\n                </div>\r\n                <div className='px-3 font-medium'>{`->`}</div>\r\n                <div className='font-medium transition-all duration-100 transform cursor-pointer hover:text-gray-600 hover:scale-110'>\r\n                  New scheduledWash\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          {/*  */}\r\n          <div className='py-16 bg-white border rounded shadow-md hover:shadow-lg px-14 '>\r\n            <div className='my-5'>\r\n              <input\r\n                placeholder={'Name'}\r\n                value={formData.name}\r\n                type='text'\r\n                name='name'\r\n                onChange={e => {\r\n                  onChange(e);\r\n                }}\r\n                className='w-full p-4 font-normal text-gray-600 border rounded-md shadow outline-none focus:outline-none'\r\n              />\r\n              <small className='text-red-600'></small>\r\n            </div>\r\n            <div className='my-5'>\r\n              <input\r\n                name='label'\r\n                value={formData.label}\r\n                type='email'\r\n                placeholder={'Label'}\r\n                onChange={e => {\r\n                  onChange(e);\r\n                }}\r\n                className='w-full p-4 font-normal text-gray-600 border rounded-md shadow outline-none focus:outline-none'\r\n              />\r\n              <small className='text-red-600'></small>\r\n            </div>\r\n            <div className='my-5'>\r\n              <input\r\n                name='description'\r\n                value={formData.description}\r\n                type='text'\r\n                placeholder={'Description'}\r\n                onChange={e => {\r\n                  onChange(e);\r\n                }}\r\n                className='w-full p-4 font-normal text-gray-600 border rounded-md shadow outline-none focus:outline-none'\r\n              />\r\n              <small className='text-red-600'></small>\r\n            </div>\r\n            <div className='my-5'>\r\n              <input\r\n                type='text'\r\n                name='price'\r\n                value={formData.price}\r\n                placeholder='Price'\r\n                onChange={e => {\r\n                  onChange(e);\r\n                }}\r\n                className='w-full p-4 font-normal text-gray-600 border rounded-md shadow outline-none focus:outline-none'\r\n              />\r\n              <small className='text-red-600'></small>\r\n            </div>\r\n            <div className='my-5'>\r\n              <input\r\n                type='text'\r\n                name='note'\r\n                value={formData.note}\r\n                placeholder='Note'\r\n                onChange={e => {\r\n                  onChange(e);\r\n                }}\r\n                className='w-full p-4 font-normal text-gray-600 border rounded-md shadow outline-none focus:outline-none'\r\n              />\r\n              <small className='text-red-600'></small>\r\n            </div>\r\n\r\n            <div className='flex items-center justify-center w-full'>\r\n              <div\r\n                // disabled={_objI(errorValidation)}\r\n                onClick={e => onUserSubmit(e)}\r\n                style={{\r\n                  backgroundColor: _objI(errorValidation) ? '#666' : '#212121',\r\n                  borderColor: '#212121',\r\n                }}\r\n                className={` ${\r\n                  scheduledWashesReducer.loading ? `animate-pulse` : ``\r\n                } \r\n               \r\n                  w-full text-white py-3 px-4 text-center font-medium rounded-lg mt-16 cursor-pointer hover:bg-black `}>\r\n                {scheduledWashesReducer.loading ? (\r\n                  <svg\r\n                    className='absolute w-5 h-5 mr-3 border-r-2 border-white rounded-full animate-spin left-3'\r\n                    viewBox='0 0 24 24'></svg>\r\n                ) : (\r\n                  ''\r\n                )}\r\n                Save\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </Layout>\r\n    );\r\n  }\r\n}\r\n"],"sourceRoot":""}