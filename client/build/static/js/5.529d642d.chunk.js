(this.webpackJsonpdashboard=this.webpackJsonpdashboard||[]).push([[5],{143:function(e,t,r){"use strict";r(2);var a=r(3);t.a=function(){return Object(a.jsx)("div",{class:"loader"})}},145:function(e,t,r){"use strict";r.d(t,"e",(function(){return u})),r.d(t,"d",(function(){return b})),r.d(t,"b",(function(){return p})),r.d(t,"f",(function(){return x})),r.d(t,"c",(function(){return j})),r.d(t,"a",(function(){return g}));var a=r(28),n=r(20),s=r(36),c=r(18),o=r(34),l=r(35),i=function(){return function(e){e({type:a.h})}},d=function(){return function(e){e({type:a.d})}},u=function(){return Object(n.a)({url:"https://lavado.ae/api/services/all",successType:a.f,errorType:a.g,startReload:i,finishedReload:d,headers:{"Content-Type":"application/json","Access-Control-Allow-Origin":"*","x-access-token":localStorage.getItem("token")}})},b=function(e){return Object(s.a)({url:"https://lavado.ae/api/services/",successType:a.e,errorType:a.g,startReload:i,finishedReload:d,id:e,headers:{"Content-Type":"application/json","Access-Control-Allow-Origin":"*","x-access-token":localStorage.getItem("token")}})},p=function(e){return Object(c.a)({url:"https://lavado.ae/api/services/",successType:a.b,errorType:a.g,startReload:i,finishedReload:d,title:"Services",formData:e,headers:{"Content-Type":"application/json","Access-Control-Allow-Origin":"*","x-access-token":localStorage.getItem("token")}})},x=function(e){return Object(o.a)({url:"https://lavado.ae/api/services",successType:a.i,errorType:a.g,startReload:i,finishedReload:d,title:"Services",formData:e,id:e._id,headers:{"Content-Type":"application/json","Access-Control-Allow-Origin":"*","x-access-token":localStorage.getItem("token")}})},j=function(e){return Object(l.a)({url:"https://lavado.ae/api/services/",successType:a.c,errorType:a.g,startReload:i,finishedReload:d,title:"Services",id:e,headers:{"Content-Type":"application/json","Access-Control-Allow-Origin":"*","x-access-token":localStorage.getItem("token")}})},g=function(){return function(e){e({type:a.a})}}},146:function(e,t,r){"use strict";r.d(t,"b",(function(){return l})),r.d(t,"a",(function(){return i}));var a="FILE_ERROR",n=(r(20),r(36)),s=r(18),c=(r(34),r(35),function(){return function(e){e({type:"START_FILES_RELOAD"})}}),o=function(){return function(e){e({type:"FINISHED_FILES_RELOAD"})}},l=function(e){return Object(n.a)({url:"https://lavado.ae/api/files/",successType:"READ_ONE_FILE",errorType:a,startReload:c,finishedReload:o,id:e,headers:{"Content-Type":"application/json","Access-Control-Allow-Origin":"*","x-access-token":localStorage.getItem("token")}})},i=function(e){return Object(s.a)({url:"https://lavado.ae/api/files/",successType:"CREATE_FILE",errorType:a,startReload:c,finishedReload:o,type:"file",formData:e,title:"Media File",headers:{"Content-Type":"multipart/form-data","Access-Control-Allow-Origin":"*","x-access-token":localStorage.getItem("token")}})}},147:function(e,t,r){"use strict";r.d(t,"d",(function(){return u})),r.d(t,"f",(function(){return b})),r.d(t,"e",(function(){return p})),r.d(t,"b",(function(){return x})),r.d(t,"g",(function(){return j})),r.d(t,"c",(function(){return g})),r.d(t,"a",(function(){return h}));var a=r(29),n=r(20),s=r(36),c=r(18),o=r(34),l=r(35),i=function(){return function(e){e({type:a.g})}},d=function(){return function(e){e({type:a.d})}},u=function(e){return Object(n.a)({url:"https://lavado.ae/api/users/all",successType:a.f,errorType:a.i,startReload:i,finishedReload:d,headers:{"Content-Type":"application/json","Access-Control-Allow-Origin":"*","x-access-token":localStorage.getItem("token")}})},b=function(e){return Object(n.a)({url:"https://lavado.ae"+"/api/users?query=".concat(encodeURIComponent(JSON.stringify(e.query)),"&page=").concat(e.page,"&limit=").concat(e.limit),successType:a.f,errorType:a.i,startReload:i,finishedReload:d,headers:{"Content-Type":"application/json","Access-Control-Allow-Origin":"*","x-access-token":localStorage.getItem("token")}})},p=function(e){return Object(s.a)({url:"https://lavado.ae/api/users/",successType:a.e,errorType:a.i,startReload:i,finishedReload:d,id:e,headers:{"Content-Type":"application/json","Access-Control-Allow-Origin":"*","x-access-token":localStorage.getItem("token")}})},x=function(e){return Object(c.a)({url:"https://lavado.ae/api/users",successType:a.b,errorType:a.i,startReload:i,finishedReload:d,title:"User",formData:e,headers:{"Content-Type":"application/json","Access-Control-Allow-Origin":"*","x-access-token":localStorage.getItem("token")}})},j=function(e){return Object(o.a)({url:"https://lavado.ae/api/users/",successType:a.h,errorType:a.i,startReload:i,finishedReload:d,title:"User",formData:e,id:e._id,headers:{"Content-Type":"application/json","Access-Control-Allow-Origin":"*","x-access-token":localStorage.getItem("token")}})},g=function(e){return Object(l.a)({url:"https://lavado.ae/api/users",successType:a.c,errorType:a.i,startReload:i,finishedReload:d,title:"User",id:e,headers:{"Content-Type":"application/json","Access-Control-Allow-Origin":"*","x-access-token":localStorage.getItem("token")}})},h=function(){return function(e){e({type:a.a})}}},148:function(e,t,r){"use strict";r.d(t,"a",(function(){return o}));var a=r(31),n=r(20),s=(r(18),r(34),r(35),r(36),function(){return function(e){e({type:a.i})}}),c=function(){return function(e){e({type:a.e})}},o=function(){return Object(n.a)({url:"https://lavado.ae/api/cars/all",successType:a.f,errorType:a.a,startReload:s,finishedReload:c,headers:{"Content-Type":"application/json","Access-Control-Allow-Origin":"*","x-access-token":localStorage.getItem("token")}})}},149:function(e,t,r){"use strict";r.d(t,"a",(function(){return i}));var a=r(13),n=r(2),s=r(16),c=r(146),o=r(44),l=r(3);function i(e){var t=e.id,r=e.width,i=(e.height,Object(s.c)()),d=Object(n.useState)(""),u=Object(a.a)(d,2),b=u[0],p=u[1];return Object(n.useEffect)((function(){t&&function(e){i(Object(c.b)(e)).then((function(e){200===e.status&&p(e.data)}))}(t)}),[t]),Object(l.jsx)("img",{src:Object(o.a)(b)?"/".concat(b.data.path):"",className:"".concat(r||"w-64")})}},235:function(e,t,r){"use strict";r.r(t),r.d(t,"default",(function(){return h}));var a=r(1),n=r(13),s=r(2),c=r(16),o=r(49),l=r(45),i=r(59),d=r(147),u=(r(145),r(83)),b=r(148),p=r(44),x=r(149),j=r(143),g=r(3);function h(e){var t=e.history,r=Object(c.c)(),h=Object(s.useState)({}),f=Object(n.a)(h,2),m=f[0],O=f[1],y=Object(c.d)((function(e){return e.carsReducer})),v=Object(c.d)((function(e){return e.userReducer})),w=Object(c.d)((function(e){return e.rolesReducer})),N=Object(s.useState)(50),C=Object(n.a)(N,2),k=C[0],T=C[1],R=Object(s.useState)(1),A=Object(n.a)(R,2),S=A[0],I=A[1],E=Object(s.useState)({email:{$in:""},status:{$in:""}}),_=Object(n.a)(E,2),$=_[0],P=_[1],D=Object(s.useState)({page:S,limit:k,query:{}}),F=Object(n.a)(D,2),L=F[0],J=F[1];return Object(s.useEffect)((function(){r(Object(u.e)()),r(Object(b.a)())}),[]),Object(s.useEffect)((function(){r(Object(d.f)(L))}),[L]),v.loading?Object(g.jsx)(i.a,{children:Object(g.jsx)("div",{className:"flex items-center justify-center h-screen",children:Object(g.jsx)(j.a,{})})}):Object(g.jsxs)(i.a,{children:[Object(p.a)(m)&&Object(g.jsx)("div",{className:"fixed top-0 bottom-0 left-0 right-0 flex items-center justify-center w-screen h-screen bg-gray-300 bg-opacity-30",children:Object(g.jsxs)("div",{className:"relative z-50 w-6/12 p-6 bg-white border rounded shadow",children:[Object(g.jsx)("span",{onClick:function(){return O({})},children:Object(g.jsx)(l.a,{className:"absolute text-2xl text-red-600 cursor-pointer top-3 right-3 hover:text-red-700"})}),Object(g.jsx)("span",{className:"flex flex-wrap w-full",children:Object.entries(m).map((function(e){var t=Object(n.a)(e,2),r=t[0],a=t[1];if("trash"!==r&&"createdAt"!==r&&"updatedAt"!==r&&"_id"!==r&&"createdBy"!==r&&"__v"!==r)return Object(g.jsxs)("div",{className:"flex w-full py-1",children:[Object(g.jsxs)("span",{className:"mr-3 text-sm font-semibold",children:[r,":"]}),Object(g.jsx)("span",{children:"object"===typeof a&&null!==a?a.name:"image"===r?Object(g.jsx)(x.a,{id:a}):a})]})}))})]})}),Object(g.jsxs)("div",{style:{backgroundColor:"#F8F8F8"},className:"flex flex-col items-center w-full h-screen p-10 pb-20 transition-all",children:[Object(g.jsxs)("div",{className:"flex flex-wrap items-center justify-between w-full transition-all select-none",children:[Object(g.jsxs)("div",{className:"flex-grow my-10 text-4xl font-normal text-left text-gray-500 transition-all ",children:["Users",Object(g.jsxs)("div",{className:"flex items-center w-full mt-4 text-sm text-left text-gray-500 transition-all",children:[Object(g.jsx)("div",{className:"font-medium transition-all duration-100 transform cursor-pointer hover:text-gray-600 hover:scale-110",children:"Dashboard"}),Object(g.jsx)("div",{className:"px-3 font-medium",children:"->"}),Object(g.jsx)("div",{className:"font-medium transition-all duration-100 transform cursor-pointer hover:text-gray-600 hover:scale-110",children:"Users"})]})]}),Object(g.jsx)("div",{onClick:function(){return t.push("/admin/users/new")},style:{backgroundColor:"#212121"},className:"px-4 py-3 my-10 transition-all rounded-md shadow-md cursor-pointer hover:shadow-lg",children:Object(g.jsx)("div",{className:"text-sm text-center text-white transition-all",children:"Add new user"})})]}),Object(g.jsxs)("div",{className:"flex justify-start w-full",children:[Object(g.jsxs)("div",{className:"flex items-center p-2 px-3 text-xs text-gray-700",children:[Object(g.jsx)("p",{children:" Email:"}),Object(g.jsx)("input",{value:$.email.$in,name:"$in",className:"w-20 p-2 py-1 ml-2 border border-r-0 rounded rounded-r-none shadow",onChange:function(e){P(Object(a.a)(Object(a.a)({},$),{},{email:{$in:e.target.value}}))}})," ",Object(g.jsx)("div",{className:"p-2 py-1 text-xs border border-l-0 rounded rounded-l-none shadow cursor-pointer hover:bg-gray-100",onClick:function(){var e=JSON.parse(JSON.stringify($));0===e.email.$in.length&&delete e.email,0===e.status.$in.length&&delete e.status,J(Object(a.a)(Object(a.a)({},L),{},{query:e}))},children:"Search"})]}),Object(g.jsxs)("div",{className:"flex items-center p-2 px-3 text-xs text-gray-700",children:[Object(g.jsx)("p",{children:" Status:"}),Object(g.jsxs)("select",{value:$.status.$in,name:"$in",className:"w-20 p-2 py-1 ml-2 border border-r-0 rounded rounded-r-none shadow",onChange:function(e){P(Object(a.a)(Object(a.a)({},$),{},{status:{$in:e.target.value}}))},children:[Object(g.jsx)("option",{value:"active",children:"Active"}),Object(g.jsx)("option",{value:"pending",children:"Pending"}),Object(g.jsx)("option",{value:"rejected",children:"Rejected"})]}),Object(g.jsx)("div",{className:"p-2 py-1 text-xs border border-l-0 rounded rounded-l-none shadow cursor-pointer hover:bg-gray-100",onClick:function(){var e=JSON.parse(JSON.stringify($));0===e.email.$in.length&&delete e.email,0===e.status.$in.length&&delete e.status,J(Object(a.a)(Object(a.a)({},L),{},{query:e}))},children:"Search"})]})]}),Object(g.jsxs)("div",{className:"flex justify-start w-full",children:[Object(g.jsxs)("div",{className:"flex items-center p-2 px-3 text-xs text-gray-700",children:["Total Count: ",v.pagination.totalCount]}),Object(g.jsxs)("div",{className:"flex items-center p-2 px-3 text-xs text-gray-700",children:["Total Pages: ",v.pagination.totalPages]}),Object(g.jsxs)("div",{className:"flex items-center p-2 px-3 text-xs text-gray-700",children:["Current Page: ",v.pagination.current]}),Object(g.jsxs)("div",{className:"flex items-center p-2 px-3 text-xs text-gray-700",children:["Count: ",v.pagination.count]}),Object(g.jsxs)("div",{className:"flex items-center p-2 px-3 text-xs text-gray-700",children:[Object(g.jsx)("p",{children:" Limit:"}),Object(g.jsx)("input",{value:k,type:"number",name:"limit",className:"w-20 p-2 py-1 ml-2 border border-r-0 rounded rounded-r-none shadow",onChange:function(e){return T(Number(e.target.value))}})," ",Object(g.jsx)("div",{className:"p-2 py-1 text-xs border border-l-0 rounded rounded-l-none shadow cursor-pointer hover:bg-gray-100",onClick:function(){return J(Object(a.a)(Object(a.a)({},L),{},{limit:k}))},children:"Submit"}),Object(g.jsxs)("div",{className:"flex items-center p-2 px-3 text-xs text-gray-700",children:[Object(g.jsx)("p",{children:" Go To:"}),Object(g.jsx)("input",{value:S,type:"number",name:"page",className:"w-20 p-2 py-1 ml-2 border border-r-0 rounded rounded-r-none shadow",onChange:function(e){return e.target.value>0&&e.target.value<=v.pagination.totalPages&&I(Number(e.target.value))}})," ",Object(g.jsx)("div",{className:"p-2 py-1 text-xs border border-l-0 rounded rounded-l-none shadow cursor-pointer hover:bg-gray-100",onClick:function(){return J(Object(a.a)(Object(a.a)({},L),{},{page:S}))},children:"Submit"})]})]})]}),v.users.length>0?Object(g.jsxs)("table",{className:"w-full mb-6 border-collapse shadow-lg table-auto hover:shadow-lg",children:[Object(g.jsx)("thead",{children:Object(g.jsxs)("tr",{children:[Object(g.jsx)("th",{className:"hidden p-3 font-bold text-gray-600 uppercase bg-gray-200 border border-gray-300 lg:table-cell",children:"#"}),Object(g.jsx)("th",{className:"hidden p-3 font-bold text-gray-600 uppercase bg-gray-200 border border-gray-300 lg:table-cell",children:"Email"}),Object(g.jsx)("th",{className:"hidden p-3 font-bold text-gray-600 uppercase bg-gray-200 border border-gray-300 lg:table-cell",children:"Phone"}),Object(g.jsx)("th",{className:"hidden p-3 font-bold text-gray-600 uppercase bg-gray-200 border border-gray-300 lg:table-cell",children:"Role"}),Object(g.jsx)("th",{className:"hidden p-3 font-bold text-gray-600 uppercase bg-gray-200 border border-gray-300 lg:table-cell",children:"Cars"}),Object(g.jsx)("th",{className:"hidden p-3 font-bold text-gray-600 uppercase bg-gray-200 border border-gray-300 lg:table-cell",children:"Status"})," ",Object(g.jsx)("th",{className:"hidden p-3 font-bold text-gray-600 uppercase bg-gray-200 border border-gray-300 lg:table-cell",children:"Actions"})]})}),v.users.map((function(e,a){return Object(g.jsx)("tbody",{children:Object(g.jsxs)("tr",{className:"flex flex-row flex-wrap mb-10 bg-white lg:hover:bg-gray-100 lg:table-row lg:flex-row lg:flex-no-wrap lg:mb-0",children:[Object(g.jsxs)("td",{className:"relative block w-full p-3 text-center text-gray-800 border border-b lg:w-auto lg:table-cell lg:static",children:[Object(g.jsx)("span",{className:"absolute top-0 left-0 px-2 py-1 text-xs font-bold uppercase bg-blue-200 lg:hidden",children:"#"}),a+1]}),Object(g.jsxs)("td",{className:"relative block w-full p-3 text-center text-gray-800 border border-b lg:w-auto lg:table-cell lg:static",children:[Object(g.jsx)("span",{className:"absolute top-0 left-0 px-2 py-1 text-xs font-bold uppercase bg-blue-200 lg:hidden",children:"Email"}),e.email||Object(g.jsx)("span",{className:"text-xs text-gray-600",children:"Empty"})]}),Object(g.jsxs)("td",{className:"relative block w-full p-3 text-center text-gray-800 border border-b lg:w-auto lg:table-cell lg:static",children:[Object(g.jsx)("span",{className:"absolute top-0 left-0 px-2 py-1 text-xs font-bold uppercase bg-blue-200 lg:hidden",children:"Phone"}),e.phone||Object(g.jsx)("span",{className:"text-xs text-gray-600",children:"Empty"})]}),Object(g.jsxs)("td",{className:"relative block w-full p-3 text-center text-gray-800 border border-b lg:w-auto lg:table-cell lg:static",children:[Object(g.jsx)("span",{className:"absolute top-0 left-0 px-2 py-1 text-xs font-bold uppercase bg-blue-200 lg:hidden",children:"Role"}),Object(g.jsx)("p",{className:"px-3 py-1 text-xs font-bold text-gray-500 rounded",children:w.roles.map((function(t){return e.roles.find((function(e){return e===t._id}))?Object(g.jsx)("span",{children:t.name}):""}))})]})," ",Object(g.jsxs)("td",{className:"relative block w-full p-3 text-center text-gray-800 border border-b lg:w-auto lg:table-cell lg:static",children:[Object(g.jsx)("span",{className:"absolute top-0 left-0 px-2 py-1 text-xs font-bold uppercase bg-blue-200 lg:hidden",children:"Cars"}),y.cars.map((function(t){return t.createdBy===e._id?Object(g.jsx)("p",{className:"px-3 py-1 text-xs font-bold text-gray-500 rounded cursor-pointer",onClick:function(){return O(t)},children:t.model}):""}))]}),Object(g.jsxs)("td",{className:"relative block w-full p-3 text-center text-gray-800 border border-b lg:w-auto lg:table-cell lg:static",children:[Object(g.jsx)("span",{className:"absolute top-0 left-0 px-2 py-1 text-xs font-bold uppercase bg-blue-200 lg:hidden",children:"Status"}),Object(g.jsx)("span",{className:"rounded ".concat("active"===e.status?"bg-green-600 hover:bg-green-700":"bg-red-600 hover:bg-red-700"," py-1 px-3 text-xs font-semibold text-white"),children:e.status})]}),Object(g.jsxs)("td",{className:"relative block w-full p-3 text-center text-gray-800 border border-b lg:w-auto lg:table-cell lg:static",children:[Object(g.jsx)("span",{className:"absolute top-0 left-0 px-2 py-1 text-xs font-bold uppercase bg-blue-200 lg:hidden",children:"Actions"}),Object(g.jsxs)("div",{className:"flex items-center justify-evenly",children:[Object(g.jsx)("div",{onClick:function(){r(Object(d.a)()),t.push("/admin/users/".concat(e.id,"/edit"))},className:"text-blue-400 underline cursor-pointer hover:text-blue-600",children:Object(g.jsx)(o.c,{size:"1.8rem"})}),Object(g.jsx)("div",{onClick:function(){r(Object(d.a)()),r(Object(d.c)(e.id)),r(Object(d.f)())},className:"text-red-500 underline cursor-pointer hover:text-red-500",children:Object(g.jsx)(l.b,{size:"1.8rem"})})]})]})]})})}))," "]}):Object(g.jsx)("p",{className:"flex flex-row flex-wrap items-center justify-center p-6 mb-10 text-xl text-red-600",children:"There is no result"}),Object(g.jsx)("div",{className:"flex justify-between w-full py-6",children:Object(g.jsxs)("div",{className:"flex items-center justify-start",children:[1!==v.pagination.previous&&1!==v.pagination.current&&Object(g.jsx)("div",{className:"p-2 px-3 mr-6 text-xs text-gray-700 bg-white border rounded shadow cursor-pointer hover:bg-gray-100",onClick:function(){return J(Object(a.a)(Object(a.a)({},L),{},{page:1}))},children:"1"}),v.pagination.previous&&Object(g.jsx)("div",{className:"p-2 px-3 mr-2 text-xs text-gray-700 bg-white border rounded shadow cursor-pointer hover:bg-gray-100",onClick:function(){return J(Object(a.a)(Object(a.a)({},L),{},{page:v.pagination.previous}))},children:v.pagination.previous}),Object(g.jsx)("div",{className:"p-2 px-3 mr-2 text-xs font-bold text-gray-700 bg-white border rounded shadow cursor-pointer hover:bg-gray-100",onClick:function(){return J(Object(a.a)(Object(a.a)({},L),{},{page:v.pagination.current}))},children:v.pagination.current}),v.pagination.next&&Object(g.jsx)("div",{className:"p-2 px-3 mr-2 text-xs text-gray-700 bg-white border rounded shadow cursor-pointer hover:bg-gray-100",onClick:function(){return J(Object(a.a)(Object(a.a)({},L),{},{page:v.pagination.next}))},children:v.pagination.next}),v.pagination.totalPages!==v.pagination.next&&v.pagination.totalPages!==v.pagination.current&&Object(g.jsx)("div",{className:"p-2 px-3 mx-6 text-xs text-gray-700 bg-white border rounded shadow cursor-pointer hover:bg-gray-100",onClick:function(){return J(Object(a.a)(Object(a.a)({},L),{},{page:v.pagination.totalPages}))},children:v.pagination.totalPages})]})})]})]})}}}]);
//# sourceMappingURL=5.529d642d.chunk.js.map