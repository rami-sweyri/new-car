(this.webpackJsonpdashboard=this.webpackJsonpdashboard||[]).push([[8],{143:function(e,t,n){"use strict";n(2);var a=n(3);t.a=function(){return Object(a.jsx)("div",{class:"loader"})}},146:function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return l}));var a="FILE_ERROR",r=(n(20),n(36)),o=n(18),c=(n(34),n(35),function(){return function(e){e({type:"START_FILES_RELOAD"})}}),s=function(){return function(e){e({type:"FINISHED_FILES_RELOAD"})}},i=function(e){return Object(r.a)({url:"https://lavado.ae/api/files/",successType:"READ_ONE_FILE",errorType:a,startReload:c,finishedReload:s,id:e,headers:{"Content-Type":"application/json","Access-Control-Allow-Origin":"*","x-access-token":localStorage.getItem("token")}})},l=function(e){return Object(o.a)({url:"https://lavado.ae/api/files/",successType:"CREATE_FILE",errorType:a,startReload:c,finishedReload:s,type:"file",formData:e,title:"Media File",headers:{"Content-Type":"multipart/form-data","Access-Control-Allow-Origin":"*","x-access-token":localStorage.getItem("token")}})}},161:function(e,t,n){"use strict";n.d(t,"d",(function(){return u})),n.d(t,"e",(function(){return f})),n.d(t,"b",(function(){return m})),n.d(t,"f",(function(){return p})),n.d(t,"c",(function(){return j})),n.d(t,"a",(function(){return b}));var a=n(32),r=n(20),o=n(36),c=n(18),s=n(34),i=n(35),l=function(){return function(e){e({type:a.h})}},d=function(){return function(e){e({type:a.d})}},u=function(){return Object(r.a)({url:"https://lavado.ae/api/intro/all",successType:a.f,errorType:a.e,startReload:l,finishedReload:d,headers:{"Content-Type":"application/json","Access-Control-Allow-Origin":"*","x-access-token":localStorage.getItem("token")}})},f=function(e){return Object(o.a)({url:"https://lavado.ae/api/intro/",successType:a.g,errorType:a.e,startReload:l,finishedReload:d,id:e,headers:{"Content-Type":"application/json","Access-Control-Allow-Origin":"*","x-access-token":localStorage.getItem("token")}})},m=function(e){return Object(c.a)({url:"https://lavado.ae/api/intro/",successType:a.b,errorType:a.e,startReload:l,finishedReload:d,title:"Intro",formData:e,headers:{"Content-Type":"application/json","Access-Control-Allow-Origin":"*","x-access-token":localStorage.getItem("token")}})},p=function(e){return Object(s.a)({url:"https://lavado.ae/api/intro",successType:a.i,errorType:a.e,startReload:l,finishedReload:d,title:"Intro",formData:e,id:e._id,headers:{"Content-Type":"application/json","Access-Control-Allow-Origin":"*","x-access-token":localStorage.getItem("token")}})},j=function(e){return Object(i.a)({url:"https://lavado.ae/api/intro/",successType:a.c,errorType:a.e,startReload:l,finishedReload:d,title:"Intro",id:e,headers:{"Content-Type":"application/json","Access-Control-Allow-Origin":"*","x-access-token":localStorage.getItem("token")}})},b=function(){return function(e){e({type:a.a})}}},251:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return h}));var a=n(12),r=n.n(a),o=n(21),c=n(22),s=n(1),i=n(13),l=n(59),d=n(2),u=n(16),f=n(161),m=(n(19),n(146)),p=(n(60),n(44)),j=n(143),b=n(3);function h(e){var t=e.history,n=e.match,a=Object(u.c)(),h=Object(u.d)((function(e){return e.introReducer})),x=Object(d.useState)({}),O=Object(i.a)(x,2),g=O[0],y=(O[1],Object(d.useState)({})),v=Object(i.a)(y,2),w=v[0],N=v[1],C=Object(d.useState)({name:"",label:"",image:"",description:""}),k=Object(i.a)(C,2),T=k[0],R=k[1],I=function(e){e.preventDefault(),R(Object(s.a)(Object(s.a)({},T),{},Object(c.a)({},e.target.name,e.target.value)))};console.log({fileData:w}),Object(d.useEffect)((function(){n.params.id&&a(Object(f.e)(n.params.id)).then((function(e){R(Object(s.a)(Object(s.a)({},T),e.data.data)),console.log({res:e.data.data})})).catch((function(e){}))}),[n.params.id]),Object(d.useEffect)((function(){a(Object(f.d)())}),[]),Object(d.useEffect)((function(){""!==T.image&&a(Object(m.b)(T.image)).then((function(e){200===e.status&&N(e.data)}))}),[T.image]);var A=function(){var e=Object(o.a)(r.a.mark((function e(o){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o.preventDefault(),n.params.id?n.params.id?a(Object(f.f)({_id:n.params.id,name:T.name,label:T.label,image:T.image,description:T.description})).then((function(e){return t.push("/admin/intro")})):console.log("error"):a(Object(f.b)({name:T.name,label:T.label,description:T.description,image:T.image})).then((function(e){return t.push("/admin/intro")}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return h.loading?Object(b.jsx)(l.a,{children:Object(b.jsx)("div",{className:"flex items-center justify-center h-screen",children:Object(b.jsx)(j.a,{})})}):Object(b.jsx)(l.a,{parentClassName:" ",children:Object(b.jsxs)("div",{style:{backgroundColor:"#F8F8F8"},className:"w-full h-full p-10 transition-all",children:[Object(b.jsx)("div",{className:"flex flex-wrap items-center justify-between w-full transition-all select-none",children:Object(b.jsxs)("div",{className:"flex-grow my-10 text-4xl font-normal text-left text-gray-500 transition-all ",children:["Mobile Intro",Object(b.jsxs)("div",{className:"flex items-center w-full mt-4 text-sm text-left text-gray-500 transition-all",children:[Object(b.jsx)("div",{className:"font-medium transition-all duration-100 transform cursor-pointer hover:text-gray-600 hover:scale-110",children:"Dashboard"}),Object(b.jsx)("div",{className:"px-3 font-medium",children:"->"}),Object(b.jsx)("div",{className:"font-medium transition-all duration-100 transform cursor-pointer hover:text-gray-600 hover:scale-110",children:"Mobile Intro"}),Object(b.jsx)("div",{className:"px-3 font-medium",children:"->"}),Object(b.jsx)("div",{className:"font-medium transition-all duration-100 transform cursor-pointer hover:text-gray-600 hover:scale-110",children:"New Intro"})]})]})}),Object(b.jsxs)("div",{className:"p-8 bg-white border rounded shadow-md hover:shadow-lg sm:px-14 sm:py-16 ",children:[Object(b.jsxs)("div",{className:"my-5",children:[Object(b.jsx)("input",{placeholder:"Name",value:T.name,type:"text",name:"name",onChange:function(e){I(e)},className:"w-full p-4 font-normal text-gray-600 border rounded-md shadow outline-none focus:outline-none"}),Object(b.jsx)("small",{className:"text-red-600"})]}),Object(b.jsxs)("div",{className:"my-5",children:[Object(b.jsx)("input",{name:"label",value:T.label,type:"email",placeholder:"Label",onChange:function(e){I(e)},className:"w-full p-4 font-normal text-gray-600 border rounded-md shadow outline-none focus:outline-none"}),Object(b.jsx)("small",{className:"text-red-600"})]}),Object(b.jsxs)("div",{className:"my-5",children:[Object(b.jsx)("input",{name:"description",value:T.description,type:"text",placeholder:"Description",onChange:function(e){I(e)},className:"w-full p-4 font-normal text-gray-600 border rounded-md shadow outline-none focus:outline-none"}),Object(b.jsx)("small",{className:"text-red-600"})]}),Object(b.jsxs)("div",{className:"my-5",children:[Object(b.jsx)("input",{name:"file",id:"file",type:"file",placeholder:"file",onChange:function(e){!function(e){var t=e.target.files[0];console.log(t);var n=new FormData;n.append("file",t),a(Object(m.a)(n)).then((function(e){201===e.status?(N(e.data),R(Object(s.a)(Object(s.a)({},T),{},{image:e.data.data._id}))):alert("faild")})).catch((function(e){alert(e)}))}(e)},className:"hidden"}),Object(b.jsx)("div",{onClick:function(){return document.getElementById("file").click()},className:"flex items-center justify-center w-full p-4 text-xl font-normal text-gray-400 border-2 border-dashed rounded-md shadow outline-none cursor-pointer h-36 focus:outline-none",children:"Click to upload an Image"}),Object(b.jsx)("small",{className:"text-red-600"})]}),Object(b.jsx)("div",{className:"flex items-center justify-center w-full",children:Object(b.jsx)("img",{src:w.data?"/".concat(w.data.path):"",className:"w-60 sm:w-72"})}),Object(b.jsx)("div",{className:"flex items-center justify-center w-full",children:Object(b.jsxs)("div",{onClick:function(e){return A(e)},style:{backgroundColor:Object(p.a)(g)?"#666":"#212121",borderColor:"#212121"},className:" ".concat(h.loading?"animate-pulse":""," \n               \n                  w-full text-white py-3 px-4 text-center font-medium rounded-lg mt-16 cursor-pointer hover:bg-black "),children:[h.loading?Object(b.jsx)("svg",{className:"absolute w-5 h-5 mr-3 border-r-2 border-white rounded-full animate-spin left-3",viewBox:"0 0 24 24"}):"","Save"]})})]})]})})}}}]);
//# sourceMappingURL=8.22e0b9ad.chunk.js.map